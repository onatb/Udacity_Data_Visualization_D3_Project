<!DOCTYPE html>
<html>

  <head>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js" charset="utf-8"></script>
    <style>
      #chart {
        text-align: center;
      }
      .listArc {
        fill: white;
        stroke: #AAAAAA;
      }
      .listText {
        fill: #6B6B6B;
        font-size: 11px;
        font-family: 'Courgette', sans-serif;
      }
    </style>

  </head>

  <body>

    <div id="chart"></div>

    <script type="text/javascript">

      var screenWidth = window.innerWidth;

      var margin = {
          left: 20,
          top: 20,
          right: 20,
          bottom: 20
        },
        width = Math.min(screenWidth, 500) - margin.left - margin.right,
        height = Math.min(screenWidth, 500) - margin.top - margin.bottom;

      var svg = d3.select("#chart").append("svg")
        .attr("width", (width + margin.left + margin.right))
        .attr("height", (height + margin.top + margin.bottom))
        .append("g").attr("class", "wrapper")
        .attr("transform", "translate(" + (width / 2 + margin.left) + "," + (height / 2 + margin.top) + ")");


      var limbo = [{
        name: "Best"
      }, {
        name: "Female"
      }, {
        name: "Male"
      }, {
        name: "Class 1"
      }, {
        name: "Class 2"
      }, {
        name: "Class 3"
      }, {
        name: "0-21"
      }, {
        name: "22-28"
      }, {
        name: "29-39"
      }, {
        name: "40-80"
      }, {
        name: "SibSp-0"
      }, {
        name: "SibSp-1"
      }, {
        name: "SibSp-2+"
      }, {
        name: "ParCh-0"
      }, {
        name: "ParCh-1"
      }, {
        name: "ParCh-2+"
      }];

      var arc_id = 0;
      var arc_io_radius = [
        [70, 90]
      ];

      var arc111 = d3.svg.arc()
        .innerRadius(function() {
          return arc_io_radius[arc_id][0];
        })
        .outerRadius(function() {
          return arc_io_radius[arc_id][1];
        })

      var arc = d3.svg.arc()
        .innerRadius(width * 0.9 / 2)
        .outerRadius(width * 0.9 / 2 + 30);

      var pie = d3.layout.pie()
        .value(function(d) {
          return 30;
        })
        .padAngle(.01)
        .sort(null);

      var i = 0;

      svg.selectAll(".listArc")
        .data(pie(limbo))
        .enter().append("path")
        .attr("class", "listArc")
        .attr("id", function(d, i) {
          return "listArc_" + i;
        })
        .attr("d", arc)
        .on("mouseover", function(d) {
          d3.select(this).style("fill", "#fee0d2");
        })
        .on("mouseout", function(d) {
          if (d3.select(this).style("fill") !== "#fc9272")
            d3.select(this).style("fill", "white");
        })
        .on("click", function(d) {
          d3.select(this)
            .style("fill", "#fc9272");
          d3.selectAll(".listArc")
            .transition()
            .duration(1500)
            .attr("transform", "rotate(60)");
        });


      svg.selectAll(".listText")
        .data(limbo)
        .enter().append("text")
        .attr("class", "listText")
        .attr("x", 11) //Move the text from the start angle of the arc
        .attr("dy", 18) //Move the text down
        .append("textPath")
        .attr("xlink:href", function(d, i) {
          return "#listArc_" + i;
        })
        .text(function(d) {
          return d.name;
        });

    </script>


  </body>

</html>


